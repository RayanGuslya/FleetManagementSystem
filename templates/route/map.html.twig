<h2>Маршрут</h2>

<div id="map" style="width: 100%; height: 500px;"></div>

<script src="https://api-maps.yandex.ru/2.1/?apikey={{ yandex_api_key }}&lang=ru_RU"></script>

<script>
ymaps.ready(init);

function init() {

    const start = [{{ start_lat }}, {{ start_lng }}];
    const end = [{{ end_lat }}, {{ end_lng }}];

    const map = new ymaps.Map("map", {
        center: start,
        zoom: 10
    });

    ymaps.route([start, end]).then(function (route) {

        map.geoObjects.add(route);

        const distance = route.getLength() / 1000;
        const duration = route.getTime() / 60;

    }, function (error) {
        alert("Ошибка построения маршрута: " + error.message);
    });
}
</script>

